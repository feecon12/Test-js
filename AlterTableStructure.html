
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Table</title>
</head>

<body>
    <table id="ContentPlaceHolder">
        <!-- licensee 1 -->
        <tr>
            <td><b>Licensee name</b></td>
            <td>Khin, Mia Violet</td>
        </tr>
        <tr>
            <td><b>Office Address and Phone</b></td>
            <td>Address</td>
        </tr>
        <tr>
            <td><b>Licence Number</b></td>
            <td>PA1036</td>
        </tr>
        <tr>
            <td><b>Date Licenced</b></td>
            <td>11/04/2022</td>
        </tr>
        <tr>
            <td><b>Reactivation Date</b></td>
            <td>12/1/2025</td>
        </tr>
        <tr>
            <td><b>Licence Status</b></td>
            <td>Active</td>
        </tr>
        <tr>
            <td><b>Disciplinary Actions</b></td>
            <td>None</td>
        </tr>
        <tr>
            <td><b>Disciplinary Summary</b></td>
            <td>No summary</td>
        </tr>
        <tr>
            <td><b>NCCPA Certified</b></td>
            <td>Certified</td>
        </tr>
        <tr>
            <td></td>
            <td>Date updated 11/04/2022</td>
        </tr>

        <!-- licensee 2 -->
        <tr>
            <td><b>Licensee name</b></td>
            <td>Feecon Behera</td>
        </tr>
        <tr>
            <td><b>Office Address and Phone</b></td>
            <td>My address</td>
        </tr>
        <tr>
            <td><b>Licence Number</b></td>
            <td>2012023</td>
        </tr>
        <tr>
            <td><b>Date Licenced</b></td>
            <td>11/04/2022</td>
        </tr>
        <tr>
            <td><b>Reactivation Date</b></td>
            <td>12/1/2025</td>
        </tr>
        <tr>
            <td><b>Licence Status</b></td>
            <td>Expired</td>
        </tr>
        <tr>
            <td><b>Disciplinary Actions</b></td>
            <td>Yes</td>
        </tr>
        <tr>
            <td><b>Disciplinary Summary</b></td>
            <td>YEs summary</td>
        </tr>
        <tr>
            <td><b>NCCPA Certified</b></td>
            <td>Certified</td>
        </tr>
        <tr>
            <td></td>
            <td>Date updated 11/04/2022</td>
        </tr>

    </table>

    <!-- <script>
        const table = document.querySelector('#ContentPlaceHolder');
        const rows = Array.from(table.querySelectorAll('tr'));

        // Headers are in the first column of the first 10 rows
        const headers = [
            'Licensee Name', 
            'Office Address and Phone',
            'Licence Number',
            'Date Licenced',
            'Reactivation Date',
            'Licence Status',
            'Disciplinary Actions',
            'Disciplinary Summary',
            'NCCPA Certified',
            'Date updated'
        ];

        let currentIndex = 0;
        const dataRows = [];

        while (currentIndex < rows.length) {
            const data = [];
            for (let i = 0; i < 10; i++) {
                const cells = rows[currentIndex + i].querySelectorAll('td');
                data.push(cells[1].textContent);
            }
            dataRows.push(data);
            currentIndex += 10;
        }

        // Clear the existing rows in the table
        table.innerHTML = '';

        // Create the header row
        const headerRow = document.createElement('tr');
        headers.forEach(headerText => {
            const th = document.createElement('th');
            th.textContent = headerText;
            headerRow.appendChild(th);
        });
        table.appendChild(headerRow);

        // Create data rows
        dataRows.forEach(data => {
            const dataRow = document.createElement('tr');
            data.forEach(dataText => {
                const td = document.createElement('td');
                td.textContent = dataText;
                dataRow.appendChild(td);
            });
            table.appendChild(dataRow);
        });
    </script> -->

    <script>
            const table = document.querySelector('#ContentPlaceHolder');
                const rows = Array.from(table.querySelectorAll('tr'));
                const headersSet = new Set();
                const licenseeData = [];

                // Process rows to extract headers and data
                let currentData = {};
                rows.forEach(row => {
                    const cells = row.querySelectorAll('td');
                    const header = cells[0].textContent.trim();
                    const value = cells[1].textContent.trim();

                    if (cells[0].classList.contains('headerGray')) {
                        // Header row, push current data and reset
                        licenseeData.push(currentData);
                        currentData = {};
                    } else {
                        headersSet.add(header);
                        currentData[header] = value;
                    }
                });

                // Add the last set of data
                if (Object.keys(currentData).length > 0) {
                    licenseeData.push(currentData);
                }

                const headers = Array.from(headersSet);

                // Clear existing rows in the table
                table.innerHTML = '';

                // Create the header row
                const headerRow = document.createElement('tr');
                headers.forEach(headerText => {
                    const th = document.createElement('th');
                    th.textContent = headerText;
                    headerRow.appendChild(th);
                });
                table.appendChild(headerRow);

                // Create data rows
                licenseeData.forEach(data => {
                    const dataRow = document.createElement('tr');
                    headers.forEach(header => {
                        const td = document.createElement('td');
                        td.textContent = data[header] || '';
                        dataRow.appendChild(td);
                    });
                    table.appendChild(dataRow);
                });
    </script>

</body>

</html>